{"ast":null,"code":"import { AbstractChatCompletionRunner } from \"./AbstractChatCompletionRunner.mjs\";\nimport { isAssistantMessage } from \"./chatCompletionUtils.mjs\";\nexport class ChatCompletionRunner extends AbstractChatCompletionRunner {\n  static runFunctions(completions, params, options) {\n    const runner = new ChatCompletionRunner();\n    runner._run(() => runner._runFunctions(completions, params, options));\n    return runner;\n  }\n  static runTools(completions, params, options) {\n    const runner = new ChatCompletionRunner();\n    runner._run(() => runner._runTools(completions, params, options));\n    return runner;\n  }\n  _addMessage(message) {\n    super._addMessage(message);\n    if (isAssistantMessage(message) && message.content) {\n      this._emit('content', message.content);\n    }\n  }\n}","map":{"version":3,"names":["AbstractChatCompletionRunner","isAssistantMessage","ChatCompletionRunner","runFunctions","completions","params","options","runner","_run","_runFunctions","runTools","_runTools","_addMessage","message","content","_emit"],"sources":["/Users/wh1skyne/WebstormProjects/ChatAI/Backend/node_modules/openai/src/lib/ChatCompletionRunner.ts"],"sourcesContent":["import {\n  type Completions,\n  type ChatCompletionMessageParam,\n  type ChatCompletionCreateParamsNonStreaming,\n} from \"../resources/chat/completions\";\nimport { type RunnableFunctions, type BaseFunctionsArgs, RunnableTools } from './RunnableFunction';\nimport {\n  AbstractChatCompletionRunner,\n  AbstractChatCompletionRunnerEvents,\n  RunnerOptions,\n} from './AbstractChatCompletionRunner';\nimport { isAssistantMessage } from './chatCompletionUtils';\n\nexport interface ChatCompletionRunnerEvents extends AbstractChatCompletionRunnerEvents {\n  content: (content: string) => void;\n}\n\nexport type ChatCompletionFunctionRunnerParams<FunctionsArgs extends BaseFunctionsArgs> = Omit<\n  ChatCompletionCreateParamsNonStreaming,\n  'functions'\n> & {\n  functions: RunnableFunctions<FunctionsArgs>;\n};\n\nexport type ChatCompletionToolRunnerParams<FunctionsArgs extends BaseFunctionsArgs> = Omit<\n  ChatCompletionCreateParamsNonStreaming,\n  'tools'\n> & {\n  tools: RunnableTools<FunctionsArgs>;\n};\n\nexport class ChatCompletionRunner extends AbstractChatCompletionRunner<ChatCompletionRunnerEvents> {\n  static runFunctions(\n    completions: Completions,\n    params: ChatCompletionFunctionRunnerParams<any[]>,\n    options?: RunnerOptions,\n  ): ChatCompletionRunner {\n    const runner = new ChatCompletionRunner();\n    runner._run(() => runner._runFunctions(completions, params, options));\n    return runner;\n  }\n\n  static runTools(\n    completions: Completions,\n    params: ChatCompletionToolRunnerParams<any[]>,\n    options?: RunnerOptions,\n  ): ChatCompletionRunner {\n    const runner = new ChatCompletionRunner();\n    runner._run(() => runner._runTools(completions, params, options));\n    return runner;\n  }\n\n  override _addMessage(message: ChatCompletionMessageParam) {\n    super._addMessage(message);\n    if (isAssistantMessage(message) && message.content) {\n      this._emit('content', message.content as string);\n    }\n  }\n}\n"],"mappings":"SAOEA,4BAA4B,QAG7B;SACQC,kBAAkB,QAAE;AAoB7B,OAAM,MAAOC,oBAAqB,SAAQF,4BAAwD;EAChG,OAAOG,YAAYA,CACjBC,WAAwB,EACxBC,MAAiD,EACjDC,OAAuB;IAEvB,MAAMC,MAAM,GAAG,IAAIL,oBAAoB,EAAE;IACzCK,MAAM,CAACC,IAAI,CAAC,MAAMD,MAAM,CAACE,aAAa,CAACL,WAAW,EAAEC,MAAM,EAAEC,OAAO,CAAC,CAAC;IACrE,OAAOC,MAAM;EACf;EAEA,OAAOG,QAAQA,CACbN,WAAwB,EACxBC,MAA6C,EAC7CC,OAAuB;IAEvB,MAAMC,MAAM,GAAG,IAAIL,oBAAoB,EAAE;IACzCK,MAAM,CAACC,IAAI,CAAC,MAAMD,MAAM,CAACI,SAAS,CAACP,WAAW,EAAEC,MAAM,EAAEC,OAAO,CAAC,CAAC;IACjE,OAAOC,MAAM;EACf;EAESK,WAAWA,CAACC,OAAmC;IACtD,KAAK,CAACD,WAAW,CAACC,OAAO,CAAC;IAC1B,IAAIZ,kBAAkB,CAACY,OAAO,CAAC,IAAIA,OAAO,CAACC,OAAO,EAAE;MAClD,IAAI,CAACC,KAAK,CAAC,SAAS,EAAEF,OAAO,CAACC,OAAiB,CAAC;;EAEpD"},"metadata":{},"sourceType":"module","externalDependencies":[]}